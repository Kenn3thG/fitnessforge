<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitnessForge - Empower Your Journey</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">FitnessForge</div>
            <ul class="nav-links">
                <li><a href="#" onclick="showSection('dashboard')">Dashboard</a></li>
                <li><a href="#" onclick="showSection('calendar')">Calendar</a></li>
                <li><a href="#" onclick="showSection('tracker')">Trackers</a></li>
                <li><a href="#" onclick="showSection('plans')">Plans</a></li>
                <li><button id="dark-toggle">ðŸŒ™</button></li>
            </ul>
            <div id="auth-status">
                <button id="login-btn" onclick="showSection('login')">Login</button>
                <button id="logout-btn" onclick="logout()" style="display:none;">Logout</button>
            </div>
        </nav>
    </header>

    <main class="main">
        <!-- Landing/Hero -->
        <section id="hero" class="hero">
            <div class="hero-content">
                <h1>Unlock Your Potential</h1>
                <p>Personalized workouts, meals, and tracking. Built for you.</p>
                <button onclick="showSection('onboarding')">Get Started</button>
            </div>
        </section>

        <!-- Login Section -->
        <section id="login" class="section hidden">
            <h2>Sign In</h2>
            <form id="login-form">
                <input type="email" id="email" placeholder="Email" required>
                <input type="password" id="password" placeholder="Password" required>
                <button type="submit">Login</button>
                <p><a href="#" onclick="showSection('register')">Register</a></p>
            </form>
        </section>

        <!-- Register Section -->
        <section id="register" class="section hidden">
            <h2>Create Account</h2>
            <form id="register-form">
                <input type="email" id="reg-email" placeholder="Email" required>
                <input type="password" id="reg-password" placeholder="Password" required>
                <button type="submit">Register</button>
                <p><a href="#" onclick="showSection('login')">Back to Login</a></p>
            </form>
        </section>

        <!-- Onboarding/Profile -->
        <section id="onboarding" class="section hidden">
            <h2>Your Profile</h2>
            <form id="profile-form">
                <input type="number" id="age" placeholder="Age" required>
                <select id="sex"><option value="male">Male</option><option value="female">Female</option></select>
                <input type="number" id="height" placeholder="Height (cm)" required>
                <input type="number" id="weight" placeholder="Weight (kg)" required>
                <select id="goal">
                    <option value="lose">Lose Weight</option>
                    <option value="gain-weight">Gain Weight</option>
                    <option value="gain-muscle">Gain Muscle</option>
                </select>
                <select id="gym-access"><option value="no">Bodyweight Only</option><option value="yes">Gym Access</option></select>
                <select id="activity">
                    <option value="sedentary">Sedentary</option>
                    <option value="light">Light</option>
                    <option value="moderate">Moderate</option>
                    <option value="active">Active</option>
                </select>
                <button type="submit">Save & Generate Plans</button>
            </form>
            <div id="profile-summary"></div>
        </section>

        <!-- Dashboard -->
        <section id="dashboard" class="section hidden">
            <h2>Daily Overview</h2>
            <div class="cards">
                <div class="card">
                    <h3>Today's Calories</h3>
                    <div class="progress-bar"><div id="cal-progress" style="width:0%"></div></div>
                    <input type="number" id="daily-cal" placeholder="Log calories">
                    <button onclick="logCalories()">Log</button>
                </div>
                <div class="card">
                    <h3>Weight Log</h3>
                    <input type="number" id="weekly-weight" placeholder="This week's weight (kg)">
                    <button onclick="logWeight()">Log</button>
                    <canvas id="weight-chart" width="300" height="150"></canvas>
                </div>
            </div>
        </section>

        <!-- Calendar -->
        <section id="calendar" class="section hidden">
            <h2>Schedule Calendar</h2>
            <div id="calendar-el"></div>
        </section>

        <!-- Trackers -->
        <section id="tracker" class="section hidden">
            <h2>Progress Trackers</h2>
            <div class="cards">
                <div class="card">
                    <h3>Weekly Schedule</h3>
                    <ul id="weekly-schedule"></ul>
                </div>
                <div class="card">
                    <h3>Daily Schedule</h3>
                    <ul id="daily-schedule"></ul>
                </div>
            </div>
        </section>

        <!-- Plans -->
        <section id="plans" class="section hidden">
            <h2>Your Personalized Plans</h2>
            <div class="cards">
                <div class="card">
                    <h3>Workout Routine</h3>
                    <ul id="workout-list"></ul>
                </div>
                <div class="card">
                    <h3>Meal Plan</h3>
                    <ul id="meal-list"></ul>
                </div>
            </div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
</body>
</html>